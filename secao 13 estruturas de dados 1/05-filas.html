<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>O que é Estrutura de Dados</title>

        <!--estilizando com css-->
        <style></style>

    </head>

    <body>

        <h1>Estrutura de Dados</h1>
        <h2>Fila - Queue</h2>

        <p>
            O primeiro a entrar é o primeiro a sair (<b>FIFO</b>) <br>
            O último a entrar é o último a sair (<b>LILO</b>) <br>
        </p>

        <script>
            
            class Fila{                                 //Queue
                constructor(tamanhoLimite){
                    this.fila = []                      //queue
                    this.limite = (tamanhoLimite && tamanhoLimite > 0) ? tamanhoLimite : null
                }

                //enfileirar um elemento na fila
                enfileirar(newElement){                           //enqueue
                    if(this.eCheia()){
                        throw new Error('ERRO! A fila está cheia.')
                    }
                    this.fila.push(newElement)
                }

                //desenfileirar um elemento na fila
                desenfileirar(){                        //dequeue
                    if(this.eVazia()){
                        throw new Error('ERRO! Fila vazia!')   
                    }
                    return this.fila.shift()
                }

                //verificar se a fila está vazia
                eVazia(){                               //isEmpty
                    return this.fila.length === 0
                }

                //verifica se a fila está cheia
                eCheia(){
                    if(this.limite !== null){
                        return this.fila.length >= this.limite
                    }
                    return false
                }

                //espiar o primeiro elemento da fila
                espiar(){                               //peek
                    return this.fila[0] || null
                }

                //limpar a fila
                limpar(){                               //clear
                    this.fila.length = 0
                }

                //obter o número de elementos da fila
                get tamanho(){                          //size
                    return this.fila.length
                }
            }

            const minhaFila = new Fila(5)
            console.log(minhaFila.eVazia())             //true
            minhaFila.enfileirar('Primeiro')            //
            minhaFila.enfileirar('Segundo')             //
            minhaFila.enfileirar('Terceiro')            //

            console.log(minhaFila.espiar())             //Primeiro
            console.log(minhaFila.desenfileirar())      //Primeiro
            console.log(minhaFila.tamanho)              //2 elementos
            console.log(minhaFila.eVazia())             //false

            minhaFila.limpar()                          //limpa a fila

            console.log(minhaFila.eVazia())             //true

            minhaFila.enfileirar('Primeiro')            //
            minhaFila.enfileirar('Segundo')             //
            minhaFila.enfileirar('Terceiro')            //
            minhaFila.enfileirar('Quarto')              //
            console.log(minhaFila.eCheia())             //false
            minhaFila.enfileirar('Quinto')              //
            console.log(minhaFila.eCheia())             //true
            
            //tratando um erro de fila cheia
            try{
                minhaFila.enfileirar('Sexto')              //
            }catch(e){
                console.log(e.message)
            }

            
        </script>
        
    </body>
</html>