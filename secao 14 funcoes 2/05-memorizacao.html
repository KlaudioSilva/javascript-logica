<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Funções II - Introdução à recursividade</title>
    </head>
    <body>
        
        <h1>Memorização</h1>

        <p>
            A capacidade de uma função de se lembrar de cálculos efetuados anteriormente.
        </p>
        

        <script>
            
            count = 0
            function fibonacci(n, cache){
                cache = cache || {}
                /*
                    Se cache existir, use ele.
                    Se não existir, crie um objeto vazio {}.
                */

                count++
                if(n <= 1){
                    return n //caso base.
                }

                if(cache[n]){
                    return cache[n]
                }
                /*
                    Isso quer dizer:
                    “Antes de calcular fibonacci(n), veja se eu já calculei isso antes.”
                    Se já estiver no cache:
                    não chama a função de novo
                    não faz mais contas
                    apenas retorna o valor salvo
                */

                cache[n] = fibonacci(n - 1, cache) + fibonacci(n - 2, cache)
                return cache[n]
            }
            /*
                Ele calcula:
                    fibonacci(n - 1, cache)
                    fibonacci(n - 2, cache)
                Soma os dois
                Guarda o resultado no cache:
                cache[n] = resultado
                Retorna o valor
            */

            console.log(fibonacci(10))
            console.log(count)

        </script>

    </body>
</html>